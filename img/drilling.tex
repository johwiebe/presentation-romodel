% \documentclass[crop,tikz]{standalone}% 'crop' is the default for v1.0, before it was 'preview'
% \usetikzlibrary{arrows.meta} %tikz package already loaded by 'tikz' option
% \begin{document}
\begin{tikzpicture}
    % Geology
    \draw[draw,fill=gray!10] (0,1) rectangle (6,3) {}; 
    \draw[draw,fill=gray!30] (0,3) rectangle (6,5) {}; 
    \draw[draw,fill=white] (3.2,3.5) rectangle (3.8,5) {}; 
    \draw[draw,fill=white] (3.35,2.35) rectangle (3.65,3.5) {}; 
    \node (rock1) at (4.5, 4) {Rock 1};
    \node (rock2) at (4.5, 2) {Rock 2};

    % Rig
    \draw [line width=1] (2.5,5) -- (3,9) -- (4,9) -- (4.5,5);
    \draw [line width=0.6] (2.630,6) -- (4.360,6) -- (2.765,7) -- (4.235,7) -- (2.890,8) -- (4.110,8);
    \draw (3.45,8.8) -- (3.45,9);
    \draw (3.55,8.8) -- (3.55,9);
    \draw (3.5,8.8) circle [radius=0.05]; 
    \draw (3.5,5.5) -- (3.5,8.75);

    % W
    \node (W1) at (3.62,8.85) {};
    \node (W2) at (3.62,8.05) {};
    \draw [line width=0.7,-{Stealth[]}] (W1) edge (W2);
    \node (W) at (3.85, 8.55) {$W$};

    % Drillstring
    \draw[draw,fill=gray!80] (3.0,5) rectangle (4.0,5.1) {}; 
    \draw[draw,fill=gray!80] (3.4,5.4) rectangle (3.6,5.5) {}; 
    \draw[draw,fill=gray!80] (3.45,5.1) rectangle (3.55,5.4) {}; 
    \draw[draw,fill=gray!80] (3.45,2.9) rectangle (3.55,5.0) {}; 
    \draw[draw,fill=gray!80] (3.40,2.35) rectangle (3.60,2.9) {}; 
    % Drill bit
    \draw[draw,fill=gray!80] (3.35,2.35) -- (3.35,2.2)  arc(0:180:-0.15) -- (3.65,2.35)--cycle;
    \draw (3.45,2.06) -- (3.45,2.30) -- (3.55,2.30) -- (3.55,2.06);
    \draw (3.35,2.30) -- (3.40,2.30) -- (3.40,2.09);
    \draw (3.65,2.30) -- (3.60,2.30) -- (3.60,2.09);

    % Ntop
    \node (N1) at (3.45,5.65) {};
    \node (N2) at (3.45,5.65) {};
    \draw [line width=0.7,-{Stealth[]}] (N1) edge[out=-150,in=-20,looseness=10.2] (N2);
    \node (Ntop) at (4.1, 5.4) {$\dot{N}$};

    % Depths
    \node (x0) at (1, 5.15) {$x_0$};
    \node (x1) at (1, 3.15) {$x_1$};
    \draw [dotted] (0.7,1.85) -- (6.0,1.85);
    \node (x2) at (1, 2.00) {$x_2$};
    \node (x3) at (1, 1.15) {$x_3$};

    % Graphs
    \draw [-{Stealth[]}] (7,5) -- (7,1) node[anchor=north] {$x$};
    \draw [-{Stealth[]}] (7,5) -- (9,5) node[anchor=south] {$\dot{N}, W$};
    \draw [dotted] (7,3) -- (9,3) {};
    \draw [dotted] (7,1.85) -- (9,1.85) {};
    % N
    \draw [dash dot] (7.5,5) -- (7.5,4) node[anchor=west] {$\dot{N}_1$} -- (7.5,3);
    \draw [dash dot] (7.8,3) -- (7.8,2.45) node[anchor=east] {$\dot{N}_2$} -- (7.8,1.85){};
    \draw [dash dot] (8.2,1.85) -- (8.2,1.4) node[anchor=east] {$\dot{N}_3$} -- (8.2,1.1) {};
    % W
    \draw [dashed] (8.75,5) -- (8.75,4) node[anchor=west] {$W_1$} -- (8.75,3){};
    \draw [dashed] (8.4,3) -- (8.4,2.45) node[anchor=west] {$W_2$} -- (8.4,1.85) {};
    \draw [dashed] (8.6,1.85) -- (8.6,1.4) node[anchor=west] {$W_3$} -- (8.6,1) {};
\end{tikzpicture}
% \end{document}
